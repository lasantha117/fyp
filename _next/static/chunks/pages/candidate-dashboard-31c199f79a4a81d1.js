(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{604:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/candidate-dashboard",function(){return s(8614)}])},5538:(e,a,s)=>{"use strict";var l=s(6042),r=s(5940),i=s(9917),n=s(5226);let c=(0,l.Wp)({apiKey:"AIzaSyDfp_Ya2eIUMFRg0Ub1ICsgvKqPMoWk4lM",authDomain:"fyp-bbe4d.firebaseapp.com",databaseURL:"https://fyp-bbe4d-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fyp-bbe4d",storageBucket:"fyp-bbe4d.appspot.com",messagingSenderId:"75697914820",appId:"1:75697914820:web:7bab142f2d6313cf1c1a91"});(0,r.C3)(c),(0,i.xI)(c),(0,n.c7)(c)},8614:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var l=s(7876),r=s(4232),i=s(9099),n=s(9917),c=s(5940),t=s(9366);function d(){let e=(0,i.useRouter)(),a=(0,n.xI)(),[s,d]=(0,r.useState)(null),[o,h]=(0,r.useState)(null),[m,b]=(0,r.useState)(0),[x,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let s=(0,n.hg)(a,async s=>{if(s){d(s);let l=(0,c.C3)(),r=(0,c.KR)(l,"users/".concat(s.uid));(0,c.Zy)(r,l=>{let r=l.val();r&&"candidate"===r.role?(h(r),p(s.uid)):((0,n.CI)(a),e.push("/login"))},s=>{console.error("Error fetching user profile:",s),(0,n.CI)(a),e.push("/login")})}else d(null),h(null),e.push("/login")});return()=>s()},[a,e]);let p=e=>{u(!0);let a=(0,c.C3)(),s=(0,c.KR)(a,"applications");(0,c.Zy)(s,a=>{let s=a.val(),l=0;if(s)for(let a in s)s[a].candidateUserId===e&&l++;b(l),u(!1)},e=>{console.error("Error fetching applications data for candidate:",e),u(!1)})},v=async()=>{try{await (0,n.CI)(a),e.push("/login")}catch(e){console.error("Error logging out:",e),alert("Failed to log out. Please try again.")}};return!x&&s&&o?(0,l.jsxs)("div",{children:[(0,l.jsx)(t.A,{onLogout:v,userEmail:null==s?void 0:s.email}),(0,l.jsx)("div",{className:"container mt-5",children:(0,l.jsxs)("div",{className:"card shadow",children:[(0,l.jsxs)("div",{className:"card-header bg-primary text-white text-center",children:[(0,l.jsx)("h2",{children:"Candidate Dashboard"}),(0,l.jsxs)("p",{className:"mb-0",children:["Welcome, ",(null==o?void 0:o.email)||"Candidate","!"]})]}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("p",{className:"lead text-center mb-4",children:"Your personalized career hub."}),(0,l.jsxs)("div",{className:"row mb-5",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"card text-white bg-success mb-3",children:[(0,l.jsx)("div",{className:"card-header",children:"Total Applications Submitted"}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h5",{className:"card-title display-4",children:m}),(0,l.jsx)("p",{className:"card-text",children:"Jobs you have applied for."}),(0,l.jsx)("button",{className:"btn btn-light btn-sm mt-2",onClick:()=>{alert("Feature coming soon: View your submitted applications!")},children:"View My Applications"})]})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"card text-white bg-info mb-3",children:[(0,l.jsx)("div",{className:"card-header",children:"Recommended Jobs (Placeholder)"}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h5",{className:"card-title display-4",children:"XX"}),(0,l.jsx)("p",{className:"card-text",children:"Personalized job recommendations."})]})]})})]}),(0,l.jsxs)("div",{className:"d-grid gap-3 col-md-8 mx-auto mb-5",children:[(0,l.jsx)("button",{className:"btn btn-primary btn-lg",onClick:()=>{e.push("/resume-matcher")},children:"Go to Resume Matcher"}),(0,l.jsx)("button",{className:"btn btn-secondary btn-lg",onClick:()=>alert("Feature coming soon: Update your profile!"),children:"Update My Profile"})]}),o&&(0,l.jsxs)("div",{className:"mt-5 border-top pt-4",children:[(0,l.jsx)("h4",{className:"mb-3",children:"My Profile Information"}),(0,l.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("strong",{children:"University:"})," ",o.university||"N/A"]}),(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("strong",{children:"Degree:"})," ",o.degree||"N/A"]}),(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("strong",{children:"Graduation Year:"})," ",o.graduationYear||"N/A"]}),(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("strong",{children:"Specialization:"})," ",o.specialization||"N/A"]}),(0,l.jsxs)("li",{className:"list-group-item",children:[(0,l.jsx)("strong",{children:"Experience Level:"})," ",o.experienceLevel||"N/A"]})]})]}),(0,l.jsxs)("div",{className:"mt-5 border-top pt-4",children:[(0,l.jsx)("h4",{children:"Interview Practice (Coming Soon)"}),(0,l.jsx)("p",{className:"text-muted",children:"Practice common interview questions with an AI chatbot."})]})]})]})})]}):(0,l.jsxs)("div",{className:"container mt-5 text-center",children:[(0,l.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,l.jsx)("p",{className:"mt-2",children:"Loading candidate dashboard..."})]})}s(5538)},9366:(e,a,s)=>{"use strict";s.d(a,{A:()=>d});var l=s(7876),r=s(4232),i=s(8230),n=s.n(i),c=s(9917),t=s(5940);function d(e){let{onLogout:a,userEmail:s}=e,[i,d]=(0,r.useState)(null),o=(0,c.xI)(),h=(0,t.C3)();return(0,r.useEffect)(()=>{let e=(0,c.hg)(o,async e=>{if(e){let a=(0,t.KR)(h,"users/".concat(e.uid,"/role")),s=await (0,t.Jt)(a);s.exists()?d(s.val()):d(null)}else d(null)});return()=>e()},[o,h]),(0,l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:(0,l.jsxs)("div",{className:"container-fluid",children:["company"===i?(0,l.jsx)(n(),{href:"/dashboard",className:"navbar-brand",children:"Company Portal"}):"candidate"===i?(0,l.jsx)(n(),{href:"/candidate-dashboard",className:"navbar-brand",children:"Candidate Portal"}):(0,l.jsx)(n(),{href:"/",className:"navbar-brand",children:"Job Matching Platform"}),(0,l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})}),(0,l.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[(0,l.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:["company"===i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/dashboard",className:"nav-link",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/all-vacancies",className:"nav-link",target:"_blank",rel:"noopener noreferrer",children:"All Vacancies"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/view-vacancies",className:"nav-link",children:"My Vacancies"})})]}),"candidate"===i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/candidate-dashboard",className:"nav-link",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/resume-matcher",className:"nav-link",children:"Platform Job Matcher"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/topjobs-matcher",className:"nav-link",children:"TopJobs.lk Matcher"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/all-vacancies",className:"nav-link",target:"_blank",rel:"noopener noreferrer",children:"View All Jobs"})})]}),!i&&(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n(),{href:"/",className:"nav-link",children:"Home"})})]}),(0,l.jsxs)("ul",{className:"navbar-nav",children:[s&&(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)("span",{className:"nav-link text-white-50",children:["Signed in as: ",s]})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("button",{className:"btn btn-outline-light ms-2",onClick:a,children:"Logout"})})]})]})]})})}s(5538)}},e=>{var a=a=>e(e.s=a);e.O(0,[7,166,3,230,636,593,792],()=>a(604)),_N_E=e.O()}]);