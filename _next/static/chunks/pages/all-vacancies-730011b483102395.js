(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{5538:(a,e,s)=>{"use strict";var l=s(6042),n=s(5940),r=s(9917),i=s(5226);let t=(0,l.Wp)({apiKey:"AIzaSyDfp_Ya2eIUMFRg0Ub1ICsgvKqPMoWk4lM",authDomain:"fyp-bbe4d.firebaseapp.com",databaseURL:"https://fyp-bbe4d-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fyp-bbe4d",storageBucket:"fyp-bbe4d.appspot.com",messagingSenderId:"75697914820",appId:"1:75697914820:web:7bab142f2d6313cf1c1a91"});(0,n.C3)(t),(0,r.xI)(t),(0,i.c7)(t)},8190:(a,e,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/all-vacancies",function(){return s(8989)}])},8989:(a,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>d});var l=s(7876),n=s(4232),r=s(5940),i=s(9099),t=s(9366),c=s(9917);function d(){let[a,e]=(0,n.useState)([]),[s,d]=(0,n.useState)(!0),[o,h]=(0,n.useState)(""),[m,b]=(0,n.useState)(null),x=(0,i.useRouter)(),v=(0,c.xI)();(0,n.useEffect)(()=>{let a=(0,c.hg)(v,a=>{a?b(a):(b(null),x.push("/login"))});return()=>a()},[v,x]),(0,n.useEffect)(()=>{if(!m)return;let a=(0,r.C3)(),s=(0,r.KR)(a,"jobs"),l=(0,r.Zy)(s,a=>{let s=a.val(),l=[];if(s)for(let a in s)l.push({id:a,...s[a]});e(l),d(!1),h("")},a=>{console.error("Error fetching all vacancies:",a),h("Failed to load all vacancies. Please check console."),d(!1)});return()=>l()},[m]);let j=async()=>{try{await (0,c.CI)(v),x.push("/login")}catch(a){console.error("Error logging out:",a),alert("Failed to log out. Please try again.")}};return!m||s?(0,l.jsxs)("div",{className:"container mt-5 text-center",children:[(0,l.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,l.jsx)("p",{className:"mt-2",children:"Loading all vacancies..."})]}):o?(0,l.jsx)("div",{className:"container mt-5 alert alert-danger",children:o}):(0,l.jsxs)("div",{children:[(0,l.jsx)(t.A,{onLogout:j,userEmail:null==m?void 0:m.email}),(0,l.jsxs)("div",{className:"container mt-5",children:[(0,l.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,l.jsx)("h2",{children:"All Platform Vacancies"})}),0===a.length?(0,l.jsx)("div",{className:"alert alert-info text-center",role:"alert",children:"No vacancies available on the platform yet."}):(0,l.jsx)("div",{className:"table-responsive",children:(0,l.jsxs)("table",{className:"table table-striped table-hover align-middle",children:[(0,l.jsx)("thead",{className:"table-dark",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Job Title"}),(0,l.jsx)("th",{children:"Company"}),(0,l.jsx)("th",{children:"Description"}),(0,l.jsx)("th",{children:"Skills"}),(0,l.jsx)("th",{children:"Location"}),(0,l.jsx)("th",{children:"Employment Type"})]})}),(0,l.jsx)("tbody",{children:a.map(a=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:a.Job_Title}),(0,l.jsx)("td",{children:a.Company_Name}),(0,l.jsx)("td",{children:a.Job_Description}),(0,l.jsx)("td",{children:a.Required_Skills||"N/A"}),(0,l.jsx)("td",{children:a.Location||"N/A"}),(0,l.jsx)("td",{children:a.Employment_Type||"N/A"})]},a.id))})]})})]})]})}s(5538)},9366:(a,e,s)=>{"use strict";s.d(e,{A:()=>d});var l=s(7876),n=s(4232),r=s(8230),i=s.n(r),t=s(9917),c=s(5940);function d(a){let{onLogout:e,userEmail:s}=a,[r,d]=(0,n.useState)(null),o=(0,t.xI)(),h=(0,c.C3)();return(0,n.useEffect)(()=>{let a=(0,t.hg)(o,async a=>{if(a){let e=(0,c.KR)(h,"users/".concat(a.uid,"/role")),s=await (0,c.Jt)(e);s.exists()?d(s.val()):d(null)}else d(null)});return()=>a()},[o,h]),(0,l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:(0,l.jsxs)("div",{className:"container-fluid",children:["company"===r?(0,l.jsx)(i(),{href:"/dashboard",className:"navbar-brand",children:"Company Portal"}):"candidate"===r?(0,l.jsx)(i(),{href:"/candidate-dashboard",className:"navbar-brand",children:"Candidate Portal"}):(0,l.jsx)(i(),{href:"/",className:"navbar-brand",children:"Job Matching Platform"}),(0,l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})}),(0,l.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[(0,l.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:["company"===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/dashboard",className:"nav-link",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/all-vacancies",className:"nav-link",target:"_blank",rel:"noopener noreferrer",children:"All Vacancies"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/view-vacancies",className:"nav-link",children:"My Vacancies"})})]}),"candidate"===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/candidate-dashboard",className:"nav-link",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/resume-matcher",className:"nav-link",children:"Platform Job Matcher"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/topjobs-matcher",className:"nav-link",children:"TopJobs.lk Matcher"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/all-vacancies",className:"nav-link",target:"_blank",rel:"noopener noreferrer",children:"View All Jobs"})})]}),!r&&(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(i(),{href:"/",className:"nav-link",children:"Home"})})]}),(0,l.jsxs)("ul",{className:"navbar-nav",children:[s&&(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)("span",{className:"nav-link text-white-50",children:["Signed in as: ",s]})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("button",{className:"btn btn-outline-light ms-2",onClick:e,children:"Logout"})})]})]})]})})}s(5538)}},a=>{var e=e=>a(a.s=e);a.O(0,[7,166,3,230,636,593,792],()=>e(8190)),_N_E=a.O()}]);