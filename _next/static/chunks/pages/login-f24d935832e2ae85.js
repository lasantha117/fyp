(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{5538:(e,a,s)=>{"use strict";var t=s(6042),r=s(5940),l=s(9917),i=s(5226);let d=(0,t.Wp)({apiKey:"AIzaSyDfp_Ya2eIUMFRg0Ub1ICsgvKqPMoWk4lM",authDomain:"fyp-bbe4d.firebaseapp.com",databaseURL:"https://fyp-bbe4d-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fyp-bbe4d",storageBucket:"fyp-bbe4d.firebasestorage.app",messagingSenderId:"75697914820",appId:"1:75697914820:web:7bab142f2d6313cf1c1a91"});(0,r.C3)(d),(0,l.xI)(d),(0,i.c7)(d)},5794:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(8127)}])},8127:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(7876),r=s(4232),l=s(9099),i=s(9917),d=s(5940),n=s(8230),c=s.n(n);function o(){let[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[o,u]=(0,r.useState)("candidate"),[h,m]=(0,r.useState)(""),[p,b]=(0,r.useState)(!1),f=(0,l.useRouter)(),g=(0,i.xI)(),x=(0,d.C3)(),v=async a=>{a.preventDefault(),m(""),b(!0);try{let a=(await (0,i.x9)(g,e,s)).user,t=(0,d.jf)((0,d.KR)(x,"users"),a.uid),r=await (0,d.Jt)(t);r.exists()?r.val().role===o?(m("Login successful!"),"company"===o?f.push("/dashboard"):f.push("/candidate-dashboard")):(await g.signOut(),m("Login failed: Role mismatch. Please select the correct role or register with a new one.")):(await g.signOut(),m("Login failed: User data not found. Please register or contact support."))}catch(a){console.error("Login error:",a);let e="Login failed. Please check your credentials.";"auth/invalid-credential"===a.code?e="Invalid email or password.":"auth/user-disabled"===a.code&&(e="Your account has been disabled."),m(e)}finally{b(!1)}};return(0,t.jsx)("div",{className:"container mt-5",children:(0,t.jsxs)("div",{className:"card shadow mx-auto",style:{maxWidth:"400px"},children:[(0,t.jsx)("div",{className:"card-header bg-primary text-white text-center",children:(0,t.jsx)("h3",{children:"Login"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("form",{onSubmit:v,children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,t.jsx)("input",{type:"email",className:"form-control",id:"email",value:e,onChange:e=>a(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,t.jsx)("input",{type:"password",className:"form-control",id:"password",value:s,onChange:e=>n(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"role",className:"form-label",children:"Login as:"}),(0,t.jsxs)("select",{className:"form-select",id:"role",value:o,onChange:e=>u(e.target.value),children:[(0,t.jsx)("option",{value:"candidate",children:"Candidate"}),(0,t.jsx)("option",{value:"company",children:"Company"})]})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:p,children:p?"Logging in...":"Login"})]}),h&&(0,t.jsx)("div",{className:"alert ".concat(h.includes("successful")?"alert-success":"alert-danger"," mt-3"),children:h}),(0,t.jsxs)("p",{className:"mt-3 text-center",children:["Don't have an account? ",(0,t.jsx)(c(),{href:"/registration",children:"Register here"})]})]})]})})}s(5538)}},e=>{var a=a=>e(e.s=a);e.O(0,[7,166,3,230,636,593,792],()=>a(5794)),_N_E=e.O()}]);